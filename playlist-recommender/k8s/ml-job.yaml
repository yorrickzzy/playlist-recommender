apiVersion: batch/v1
kind: Job
metadata:
  name: playlist-ml-v2
  namespace: zeyuan
spec:
  template:
    metadata:
      labels:
        app: playlist-ml
    spec:
      restartPolicy: Never
      containers:
      - name: playlist-ml
        image: zzy0110/playlist-ml:latest
        command: ["python", "/app/train_model.py"]
        env:
        - name: DATASET_PATH
          value: "/mnt/datasets/2023_spotify_ds2.csv"
        volumeMounts:
        - name: spotify-dataset
          mountPath: /mnt/datasets
      volumes:
      - name: spotify-dataset
        persistentVolumeClaim:
          claimName: model-pvc


